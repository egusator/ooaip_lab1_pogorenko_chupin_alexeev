# ooaip_lab1_pogorenko_chupin_alexeev

https://app.diagrams.net/#G1Yk3u1zD8Ob1nnipM9elTBFaedFHefXaQ

Текстовые описания диаграмм: 

1) Последовательностей

   На диаграмме изображена последовательность сценария makeOrder класса Client. 
Первым действием создается объект Order используя конструктор с параметрами, которые предполагается получить из формы пользовательского интерфейса. Соответствующим полям присваиваются значения этих параметров, присваивается статус IN_PROCESS (заказ в процессе создания).
Поле totalPrice присваивается 0, затем в цикле к нему суммируются цены всех выбранных элементах заказов (параметр elements, используем метод getPrice).
Далее у созданного объекта класса Order вызывается метод поиска курьера (findCourier):
1) получаем всех курьеров выбранного магазина (параметр shop, метод getCouriers)
2) проходимся в цикле по коллекции курьеров и выбираем первого свободного (используя метод getFree у объекта класса Courier)
3) в объект order присваиваем найденного курьера
4) изменяем значение поля isFree у найденного курьера на false
5) в коллекцию заказов в курьере добавляем создающийся заказ
6) меняем значение статуса на DELIVERY_IN_PROGRESS (курьер найден, заказ успешно создан, доставка в процессе) 

Заказ был успешно создан и осталось добавить его в коллекцию заказов в объекте Client, что мы и делаем. 

2) Коммуникаций

На диаграмме изображен сценарий makeOrder объекта Client.
Первым действием создается объект Order.
1.1 Запускается цикл по elements, в котором с помоещью метода getPrice получаем цену элемента. 
1.1.1 Выполняется в цикле 1.1 суммируя price  и получая totalPrice.
1.2 Далее у созданного объекта класса Order вызывается метод поиска курьера (findCourier):
1.2.1 предполагается, что внутри метода findCourier вызывается метод getCouriers(shop) у класса shop, получая коллекцию курьеров из магазина
1.2.2 цикл по коллекции полученных курьеров, через метод getFree проверяется, свободен курьер или нет, результат уходит в переменную isFree
1.2.2.1 проверка на свободу выполняется в цикле 1.2.2 и если курьер свободен, то выхождим из цикла и в заказ записывается курьер

3) Анализа

Описываем как предположительно будет происходить создание заказа через пользовательский интерфейс в нашем приложении.
   Перваым делом пользователь вводит данные о заказе в форму OrderPage, когда все данные введены, то у управляющему классу Client посылается сообщение о создании нового заказа
   Управляющий объект создает другой управляющий объект Order и внутри конструктора описывается логика.
   Управляющий объект Order собирает курьеров магазина, используя сущность Shop, и также обращается к сущности Courier, чтобы узнать, свободен ли курьер
   После Полного создания заказа и передачи его курьеру, появляется DeliveryPage, на котором пользователь отслеживает состояние заказа.
